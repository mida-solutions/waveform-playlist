<html>

<head>
    <meta charset="utf-8">
    <title>Waveform Playlist Basic HTML</title>
    <link rel="stylesheet" href="https://unpkg.com/waveform-playlist@4.0.6/styles/playlist.css">
    <script src="https://kit.fontawesome.com/ef69927139.js" crossorigin="anonymous"></script>
</head>

<body>
    <button type="button" id="btn-play" title="Play">
        <i class="fas fa-play"></i>
    </button>
    <button type="button" id="btn-pause" title="Pause">
        <i class="fas fa-pause"></i>
    </button>
    <button type="button" id="btn-stop" title="Stop">
        <i class="fas fa-stop"></i>
    </button>
    <div id="playlist"></div>
    <div id="audioFiles"></div>
    <script src="../../waveform-playlist.js"></script>
    <script>
        var playlist = WaveformPlaylist.init({
            container: document.getElementById("playlist"),
            samplesPerPixel: 128,
            zoomLevels: [128, 256, 512]
        });

        playlist.load([
            {
                src: "medium.wav",
                peaksSrc: "medium.json"
            },
            {
                //src: "medium.wav"
                src: "hello.mp3"
            }
        ]);/*.then(function () {
                    var ee = playlist.getEventEmitter();
                    document.getElementById("btn-play").addEventListener("click", function () {
                        console.log("BEM clicco play");
                        ee.emit("play");
                    });

                    document.getElementById("btn-pause").addEventListener("click", function () {
                        ee.emit("pause");
                    });
                });*/




        var ee = playlist.getEventEmitter();
        document.getElementById("btn-play").addEventListener("click", function () {
            console.log("BEM clicco play");
            ee.emit("play");
        });

        document.getElementById("btn-pause").addEventListener("click", function () {
            console.log("BEM clicco pausa");
            ee.emit("pause");
        });

        document.getElementById("btn-stop").addEventListener("click", function () {
            console.log("BEM clicco stop");
            ee.emit("stop");
        });


    </script>
    <div id="prerendered_waveforms"></div>
</body>

</html>